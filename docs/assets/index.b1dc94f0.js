import{r as e,R as t,D as a,a as l,M as n,b as r}from"./vendor.be9d69fc.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const s=({isOpen:e,closeModal:a,title:l,date:n,url:r,like:s,modalLike:o})=>t.createElement("div",{className:`modal ${e&&"modal-open"}`,onClick:a},t.createElement("div",{className:"modal__dialog",onClick:e=>{e.stopPropagation()}},t.createElement("button",{onClick:a},t.createElement("img",{src:"/assets/logout_90894.svg",alt:"logout",className:"svg_logout"})),t.createElement("div",{className:"container-img"},t.createElement("img",{className:"modal-img",src:r,alt:l,loading:"lazy"}),t.createElement("svg",{className:"modalLike",onClick:()=>o(),"data-name":"Layer 1",id:"Layer_1",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{"data-name":"Heart Icon",id:"Heart_Icon"},t.createElement("circle",{className:"mcls-1",cx:"256",cy:"256",r:"256"}),t.createElement("path",{className:s?"mlike_cls-2":"mcls-2",d:"M256,402.67C149.12,343.33,88.35,262.12,103.8,201.05c5.41-21.35,23.91-55.18,58-63.72,32.12-8.07,69.37,8.61,94.25,42.35,24.88-33.74,62.13-50.42,94.25-42.35,34,8.54,52.32,42.43,57.95,63.72C424.1,261.33,363.61,343.56,256,402.67Z",id:"Heart"})))),t.createElement("div",{className:"modal-data"},t.createElement("span",{className:"modal-data-text"}," ",l),t.createElement("span",{className:"modal-data-text hidden"}," - "),t.createElement("span",{className:"modal-data-text"}," ",n," ")))),o=({datos:a})=>{const[l,n,r]=((t=!1)=>{const[a,l]=e.exports.useState(t);return[a,()=>{l(!0)},()=>{l(!1)}]})(!1),{url:o,title:c,date:i}=a,[m,d]=e.exports.useState((()=>JSON.parse(localStorage.getItem(`${i}`))||!1));e.exports.useEffect((()=>{localStorage.setItem(`${i}`,JSON.stringify(m))}),[m]);const g=e.exports.useCallback((()=>{d((e=>!e))}),[d]);return t.createElement(t.Fragment,null,t.createElement("li",null,t.createElement("img",{className:"li-img",src:o,alt:c,loading:"lazy",onClick:n}),t.createElement("div",{className:"li-data"},t.createElement("span",{className:"li-title"}," ",c),t.createElement("span",{className:"li-date"}," ",i," ")),t.createElement("svg",{className:"withoutlike",onClick:()=>d(!m),"data-name":"Layer 1",id:"Layer_1",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},t.createElement("g",{"data-name":"Heart Icon",id:"Heart_Icon"},t.createElement("circle",{className:"cls-1",cx:"256",cy:"256",r:"256"}),t.createElement("path",{className:m?"like_cls-2":"cls-2",d:"M256,402.67C149.12,343.33,88.35,262.12,103.8,201.05c5.41-21.35,23.91-55.18,58-63.72,32.12-8.07,69.37,8.61,94.25,42.35,24.88-33.74,62.13-50.42,94.25-42.35,34,8.54,52.32,42.43,57.95,63.72C424.1,261.33,363.61,343.56,256,402.67Z",id:"Heart"})))),t.createElement(s,{isOpen:l,closeModal:r,title:c,date:i,url:o,like:m,modalLike:g}))},c=new Date,i=()=>JSON.parse(localStorage.getItem("localStoreAllData"))||[[c.getFullYear(),c.getMonth(),c.getDate()],[c.getFullYear(),c.getMonth(),c.getDate()]];function m(){const[l,n]=e.exports.useState(i),[[r,s,c],[m,d,g]]=l;let u=new Date(r,s,c),p=new Date(m,d,g);const[E,N]=e.exports.useState(u),[f,h]=e.exports.useState(p),[v,x,y]=[E.getMonth(),E.getDate(),E.getFullYear()],[_,D,S]=[f.getMonth(),f.getDate(),f.getFullYear()],k=`https://api.nasa.gov/planetary/apod?api_key=XUbbpYrMxdiXrSpLUOw9aFlbH0dB9ZFmg3afTdDT&start_date=${y}-${v}-${x}&end_date=${S}-${_}-${D}`,{data:w,loading:C,error:L}=(t=>{const a=e.exports.useRef(!0),[l,n]=e.exports.useState({data:null,loading:!0,error:null});return e.exports.useEffect((()=>(console.log("montado"),()=>{a.current=!1,console.log("Desmontado")})),[]),e.exports.useEffect((()=>{n({data:null,loading:!0,error:null}),fetch(t).then((e=>e.json())).then((e=>{a.current?n({loading:!1,error:null,data:e}):console.log("Ya se desmonto")}))}),[t]),l})(k),M=[[y,v,x],[S,_,D]];return e.exports.useEffect((()=>{localStorage.setItem("localStoreAllData",JSON.stringify(M))}),[M]),t.createElement(t.Fragment,null,t.createElement("header",{className:"App-header"},t.createElement("div",{className:"container_header"},t.createElement("div",{className:"header_titulo"},t.createElement("h1",null,"SpaceTagram")),t.createElement("div",{className:"header_date"},t.createElement("div",{className:"start_date range_date"},t.createElement("h3",{className:"titleDateRange"},"Start Date"),t.createElement(a,{value:E,onChange:N,inputVariant:"outlined",maxDate:f})),t.createElement("div",{className:"end_date range_date"},t.createElement("h3",{className:"titleDateRange"},"Ending Date"),t.createElement(a,{value:f,onChange:h,inputVariant:"outlined",minDate:E,maxDate:new Date}))))),t.createElement("div",{className:C?"container-loading":"container-gallery"},t.createElement("ul",{className:C?"ul-container-pictures-loading":"ul-container-pictures"},C?t.createElement("img",{src:"/assets/nasa_logo.svg",alt:"nasa",className:"spin"}):w.map((e=>t.createElement(o,{key:e.date,datos:e}))))))}l.render(t.createElement(n,{utils:r},t.createElement(m,null)),document.getElementById("root"));
